import{d as f,m as h,a as g,u as T,_ as v,o as n,c as l,b as s,t as r,w as S,e as b,v as I,F as p,r as V,n as k,p as w,f as C,g as y,h as $}from"./index.44710360.js";const _=f({id:"todo",state:()=>({task:"",editedTask:null,statuses:["to-do","in-progress","finished"],tasks:localStorage.getItem("tasks")?JSON.parse(localStorage.getItem("tasks")):[{name:"Steal bananas from the supermarket.",status:"to-do"},{name:"Eat 1 kg chocolate in 1 hour.",status:"in-progress"},{name:"Create YouTube video.",status:"finished"}]}),actions:{changeStatus(t){let a=this.statuses.indexOf(this.tasks[t].status);++a>2&&(a=0),this.tasks[t].status=this.statuses[a]},deleteTask(t){this.tasks.splice(t,1)},editTask(t){this.task=this.tasks[t].name,this.editedTask=t},submitTask(){this.task.length!==0&&(this.editedTask!=null?(this.tasks[this.editedTask].name=this.task,this.editedTask=null):this.tasks.push({name:this.task,status:"to-do"}),this.task="")},changeTaskValue(t){this.task=t}}});const D={data(){return{taskValue:""}},computed:{...h(_,["task","editedTask","statuses","tasks"]),...h(T,["username"])},mounted(){if(!sessionStorage.getItem("isLogin")||sessionStorage.getItem("isLogin")==!1)try{this.$router.push({name:"login"})}catch(t){console.error(t)}},methods:{...g(_,["changeStatus","deleteTask","editTask","submitTask","changeTaskValue"]),capitalizeFirstChar(t){return t.charAt(0).toUpperCase()+t.slice(1)},focusInput(){this.$nextTick(()=>this.$refs.taskInput.focus())}},watch:{taskValue(){this.changeTaskValue(this.taskValue)},task(){this.taskValue=this.task},tasks:{handler:function(t){localStorage.setItem("tasks",JSON.stringify(t))},deep:!0}}},o=t=>(w("data-v-7a181212"),t=t(),C(),t),A=o(()=>s("section",null,[s("div",{class:"todo-bg-top"}),s("div",{class:"todo-bg-bottom"})],-1)),F={class:"todo-wrapper"},N={class:"container"},z=o(()=>s("div",{class:"todo-img"},[s("img",{src:y,alt:""})],-1)),B={class:"todo-container"},E={class:"todo-app"},L={class:"todo-title"},O=o(()=>s("button",{type:"submit",form:"todo-form",class:"btn btn-warning rounded-0"}," add + ",-1)),U=o(()=>s("thead",null,[s("tr",null,[s("th",{scope:"col"},"Task"),s("th",{scope:"col",class:"status-title"},"Status"),s("th",{scope:"col",class:"action-title"},"#"),s("th",{scope:"col",class:"action-title"},"#")])],-1)),J={class:"status-container"},M=["onClick"],x=["onClick"],Y=o(()=>s("span",null,"\u{1F44E}",-1)),j=[Y],q=["onClick"],G=o(()=>s("span",null,"\u270D\uFE0F",-1)),H=[G];function K(t,a,m,Q,d,c){return n(),l(p,null,[A,s("section",F,[s("div",N,[z,s("div",B,[s("div",E,[s("h2",L,"Thank you "+r(t.username)+"!",1),s("form",{id:"todo-form",class:"todo-form",onSubmit:a[1]||(a[1]=S((...e)=>t.submitTask&&t.submitTask(...e),["prevent"]))},[b(s("input",{form:"todo-form",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>d.taskValue=e),ref:"taskInput",placeholder:"Enter task ",class:"w-100 form-control"},null,512),[[I,d.taskValue]]),O],32),s("table",null,[U,s("tbody",null,[(n(!0),l(p,null,V(t.tasks,(e,i)=>(n(),l("tr",{key:i},[s("td",null,[s("span",{class:k(["task",{finished:e.status==="finished","in-progress":e.status==="in-progress"}])},r(e.name),3)]),s("td",J,[s("span",{class:k(["status",{"text-danger":e.status==="to-do","text-success":e.status==="finished","text-warning":e.status==="in-progress"}]),onClick:u=>t.changeStatus(i)},r(c.capitalizeFirstChar(e.status)),11,M)]),s("td",null,[s("div",{class:"action-item",title:"delete task",onClick:u=>t.deleteTask(i)},j,8,x)]),s("td",null,[s("div",{class:"action-item",title:"edit task",onClick:u=>{t.editTask(i),c.focusInput()}},H,8,q)])]))),128))])])])])])])],64)}var P=v(D,[["render",K],["__scopeId","data-v-7a181212"]]);const W={__name:"ToDoView",setup(t){return(a,m)=>(n(),l("main",null,[$(P)]))}};export{W as default};
